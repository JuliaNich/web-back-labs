{% extends "base.html" %}

{% block lab %}Лабораторная работа 4 - Список пользователей{% endblock %}

{% block main %}
    <h1>Список пользователей</h1>
    
    <div style="margin-bottom: 20px;">
        <a href="/lab4/edit_user" style="background: #4CAF50; color: white; padding: 10px 15px; text-decoration: none; border-radius: 4px;">
            Редактировать мои данные
        </a>
        
        <form action="/lab4/delete_user" method="post" style="display: inline; margin-left: 10px;">
            <button type="submit" style="background: #f44336; color: white; padding: 10px 15px; border: none; border-radius: 4px; cursor: pointer;">
                Удалить мой аккаунт
            </button>
        </form>
    </div>
    
    <table border="1" style="border-collapse: collapse; width: 100%;">
        <thead>
            <tr style="background: #f2f2f2;">
                <th style="padding: 10px;">Логин</th>
                <th style="padding: 10px;">Имя</th>
                <th style="padding: 10px;">Пол</th>
            </tr>
        </thead>
        <tbody>
            {% for user in users %}
                <tr>
                    <td style="padding: 10px;">
                        {{ user.login }}
                        {% if user.login == current_user %}
                            <strong>(Вы)</strong>
                        {% endif %}
                    </td>
                    <td style="padding: 10px;">{{ user.name }}</td>
                    <td style="padding: 10px;">
                        {% if user.gender == 'male' %}
                            Мужской
                        {% elif user.gender == 'female' %}
                            Женский
                        {% else %}
                            Другой
                        {% endif %}
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
    
    <div style="margin-top: 20px;">
        <a href="/lab4">Вернуться к лабораторной работе 4</a>
    </div>
{% endblock %}